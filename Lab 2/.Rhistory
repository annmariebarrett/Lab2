mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic(c("Irma","landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),"italic(landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic(landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, fontface = "italic")
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = F, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
theme(axis.title.x=element_blank())+ #removes date on x axis
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, fontface = "italic")+ #second anotate #ITALIC NOT WORKING!!, HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3)
plot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3)
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold"),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
plot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold", hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
aug17 <- tibble(c(date, name, value),
c("AUG 15, 2017", "no", "0"))
aug17_head <- c(date, name, value)
aug17_head <- c("date", "name", "value")
aug17_val<- c("AUG 15, 2017", "no", "0")
tv_states_long <- data.frame(tv_states_long, aug17_val)
View(tv_states_long)
tv_states_long <- pivot_longer(tv_states, c(florida, texas, puerto_rico))
tv_states_long <- rbind(tv_states_long, aug17_val)
View(tv_states_long)
aug17_val<- c("2017-08-15", "NA", "0")
tv_states_long <- pivot_longer(tv_states, c(florida, texas, puerto_rico))
tv_states_long <- rbind(tv_states_long, aug17_val)
View(tv_states_long)
# A dataframe for annotations
annot = data.frame(
text = c("Texas", "Florida", "Puerto Rico"),
x = lubridate::mdy(c("August 26, 2017",
"September 7, 2017",
"September 22, 2017")),
y = c(0.80, 1.5, 1.5)
)
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot
# A dataframe for annotations
annot = data.frame(
text = c("Texas", "Florida", "Puerto Rico"),
x = lubridate::mdy(c("AUGUST 26, 2017",
"SEPTEMBER 7, 2017",
"SEPTEMBER 22, 2017")),
y = c(0.80, 1.5, 1.5)
)
annot = data.frame(
text = c("Texas", "Florida", "Puerto Rico"),
x = lubridate::mdy(c("AUGUST 26, 2017",
"SEPTEMBER 7, 2017",
"SEPTEMBER 22, 2017")),
y = c(0.80, 1.5, 1.5)
)
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot
tv_states_long <- pivot_longer(tv_states, c(florida, texas, puerto_rico))
# A dataframe for annotations
annot = data.frame(
text = c("Texas", "Florida", "Puerto Rico"),
x = lubridate::mdy(c("AUGUST 26, 2017",
"SEPTEMBER 7, 2017",
"SEPTEMBER 22, 2017")),
y = c(0.80, 1.5, 1.5)
)
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold", hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_text(lineheight = .5) +
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, lineheight = .5)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, lineheight = .3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, lineheight = 1)
tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3, lineheight = .1)
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
ploplot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold", hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
ggtitle("Use theme(plot.title = element_text(hjust = 0.5)) to center") +
theme(plot.title = element_text(hjust = 0.5))
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
plot = tv_states_long %>%
mutate(name = fct_relevel(name,
"florida", "texas", "puerto_rico")) %>%
ggplot(aes(x = date, y = value, group = name)) +
geom_line()+
geom_ribbon(aes(ymin=0, ymax = value, fill = name), color = "white")+
scale_fill_manual(values = c("#FF33A8", "#FF8133", "#00AFBB"))+
labs( y = "Share of sentences",
title = "National cable news networks")+
guides(fill=FALSE)+
theme_minimal()+
geom_hline(yintercept=0, size=.3) +
geom_text(data = annot, aes(x=x, y=y, label = text), color="black", hjust=0, size=4, inherit.aes = FALSE, fontface = "bold")+
geom_vline(aes(xintercept = as.Date(tv_states_long$date[18])), linetype="dotted", color = "grey90", size=.4)+ #first line
annotate( x=as.Date(tv_states_long$date[16]),y=3,label= 'atop(italic("Harvey"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #first anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[64])), linetype="dotted", color = "grey90", size=.3) + #second line
annotate( x=as.Date(tv_states_long$date[70]),y=3.2,label= 'atop(italic("Irma"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate # HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[95])), linetype="dotted", color = "grey90", size=.3) + #fourth line
annotate( x=as.Date(tv_states_long$date[95]),y=2,label= 'atop(italic("Maria"),italic("landfall"))', geom="text", color = "grey", parse = TRUE, size = 3)+ #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
geom_vline(aes(xintercept = as.Date(tv_states_long$date[127])), linetype="dotted", color = "grey90", size=.3)+ #third line
annotate( x=as.Date(tv_states_long$date[127]),y=3,label= 'atop(italic("Las Vegas"), italic("shooting"))', geom="text", color = "grey", parse = TRUE, size = 3) #second anotate #HOW TO CHANGE LINE SPACE BETWEEN HARVEY LANDFALL
ploplot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold", hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
plot + theme(panel.grid.minor = element_blank(),
panel.background = element_blank(),
plot.title = element_text(size=11, face="bold", hjust = 0.5),
axis.title.x = element_blank(),
axis.title.y = element_text(size=11, face="bold"))
